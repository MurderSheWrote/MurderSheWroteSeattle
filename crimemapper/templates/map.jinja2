{% extends "index.html" %}
{% block map %}
  <div class="words">
      <p>Scroll around the map below to see a selection of police incidents in Seattle</p>
  </div>
  <div id='map'></div>
  <script>
      function initMap() {
      var map;
      map = new google.maps.Map(document.getElementById('map'), {
           center: {lat:47.6067006, lng:-122.3346896},
           zoom: 13
      });
      {% for place in places %}
          var marker = new google.maps.Marker({
            map: map,
            position: {{place[0]|safe}},
            title: '{{place[1]}}'
          });
      {% endfor %}
      marker.setMap(map);
      }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key={{ key }}&callback=initMap" async defer></script>
{% endblock map %}
